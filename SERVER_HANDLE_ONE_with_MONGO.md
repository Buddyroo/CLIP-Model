Описание функций
Функция load_json(file_path)

Проверяет существование файла по указанному пути.
Открывает и читает содержимое файла, пытаясь загрузить его как JSON.
В случае ошибки загрузки JSON логирует ошибку и возвращает пустой словарь.
Функция save_json(data, file_path)

Открывает файл по указанному пути для записи.
Записывает данные в формате JSON с отступами для удобочитаемости.
Функция log_unprocessed_video(video_id)

Открывает файл для записи и добавляет идентификатор видео, которое не удалось обработать.
Функция extract_video_id(url)

Разбивает URL на части по символу слеша.
Возвращает предпоследнюю часть URL в качестве уникального идентификатора видео.
Функция process_only_video_data(video_id, all_texts)

Отправляет запрос на сервер для обработки данных видео.
Собирает ключевые кадры видео из указанной директории.
Отправляет эти кадры и текстовые данные на сервер для получения векторов изображений и текста.
Возвращает результат обработки, векторы изображений и текстов.
Функция main_handle_videos()

Основная функция для обработки видео.
Запрашивает URL видео и его описание у пользователя.
Переводит описание на русский язык и извлекает идентификатор видео.
Создает миниатюры для видео и извлекает субтитры.
Извлекает аудиодорожку с помощью модели Whisper и переводит её на русский язык.
Обрабатывает векторы изображений и текста, полученные с сервера.
Добавляет обработанные данные видео в индекс и удаляет временные файлы.
Логирует информацию о процессе обработки и сохраняет статистику.
Логика работы функций
load_json: Эта функция используется для загрузки данных из JSON файла. Она проверяет, существует ли файл, и если да, пытается загрузить его содержимое. В случае ошибки загрузки, она логирует ошибку и возвращает пустой словарь.

save_json: Функция для сохранения данных в формате JSON в указанный файл. Она записывает данные в файл с отступами для удобочитаемости.

log_unprocessed_video: Эта функция логирует идентификаторы видео, которые не удалось обработать, записывая их в отдельный файл.

extract_video_id: Функция для извлечения уникального идентификатора видео из URL. Она разбивает URL на части по символу слеша и возвращает предпоследнюю часть.

process_only_video_data: Функция, которая отправляет ключевые кадры видео и текстовые данные на сервер для обработки. Она собирает все кадры из указанной директории, отправляет их на сервер и получает векторы изображений и текста в ответ. Функция возвращает результат обработки, а также сами векторы.

main_handle_videos: Основная функция для обработки видео. Она запрашивает у пользователя URL видео и его описание, переводит описание на русский язык, извлекает идентификатор видео, создает миниатюры, извлекает субтитры и аудиодорожку, обрабатывает векторы изображений и текста, добавляет данные в индекс и удаляет временные файлы. Также функция логирует всю информацию о процессе обработки и сохраняет статистику.